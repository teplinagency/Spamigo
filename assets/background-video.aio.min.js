/*
Generated time: October 28, 2024 01:50
This file was created by the app developer. Feel free to contact the original developer with any questions. It was minified (compressed) by AVADA. AVADA do NOT own this script.
*/
if(!customElements.get("background-video")){class a extends HTMLElement{constructor(){super(),this.tl=!1,this.splittext=!1,this.paused=!1,this.toggle=this.querySelector(".background-video__controls button")}connectedCallback(){let e=this;document.body.classList.contains("animations-true")&&"undefined"!=typeof gsap&&this.prepareAnimations(),this.video_container=this.querySelector(".background-video__iframe"),this.video_container.querySelector("iframe")&&(this.video_container.querySelector("iframe").onload=function(){e.videoPlay()}),this.toggle&&this.toggle.addEventListener("click",this.setupControlEvents.bind(this))}disconnectedCallback(){document.body.classList.contains("animations-true")&&"undefined"!=typeof gsap&&(this.tl.kill(),this.splittext.revert())}setupControlEvents(){this.paused?(this.videoPlay(),this.toggle&&this.toggle.classList.remove("paused")):(this.videoPause(),this.toggle&&this.toggle.classList.add("paused"))}videoPlay(){setTimeout(()=>{"youtube"===this.video_container.dataset.provider?this.video_container.querySelector("iframe").contentWindow.postMessage(JSON.stringify({event:"command",func:"playVideo",args:""}),"*"):"vimeo"===this.video_container.dataset.provider?this.video_container.querySelector("iframe").contentWindow.postMessage(JSON.stringify({method:"play"}),"*"):"hosted"===this.video_container.dataset.provider&&this.video_container.querySelector("video").play(),this.paused=!1},10)}videoPause(){setTimeout(()=>{"youtube"===this.video_container.dataset.provider?this.video_container.querySelector("iframe").contentWindow.postMessage(JSON.stringify({event:"command",func:"pauseVideo",args:""}),"*"):"vimeo"===this.video_container.dataset.provider?this.video_container.querySelector("iframe").contentWindow.postMessage(JSON.stringify({method:"pause"}),"*"):"hosted"===this.video_container.dataset.provider&&this.video_container.querySelector("video").pause(),this.paused=!0},10)}prepareAnimations(){let t=this,i=0;t.tl=gsap.timeline({scrollTrigger:{trigger:t,start:"top center"}}),document.fonts.ready.then(function(){var e;t.splittext=new SplitText(t.querySelectorAll("h3, p:not(.subheading)"),{type:"lines",linesClass:"line-child"}),t.mask=new SplitText(t.querySelectorAll("h3, p:not(.subheading)"),{type:"lines",linesClass:"line-parent"}),t.querySelector(".subheading")&&(t.tl.fromTo(t.querySelector(".subheading"),{opacity:0},{duration:.75,opacity:.6},0),i+=.5),t.querySelector("h3")&&(e=.7+.05*(t.querySelectorAll("h3 .line-child").length-1),t.tl.from(t.querySelectorAll("h3 .line-child"),{duration:e,yPercent:120,stagger:.05,rotation:"3deg"},0),i+=e),t.querySelector(".rte p")&&(e=.7+.02*(t.querySelectorAll("p .line-child").length-1),t.tl.set(t.querySelectorAll(".rte p"),{visibility:"visible"},0).from(t.querySelectorAll(".rte p .line-child"),{duration:e,yPercent:120,stagger:.02,rotation:"3deg"},0),i+=e),t.querySelector(".video-lightbox-modal__button")&&t.tl.fromTo(t.querySelector(".video-lightbox-modal__button"),{autoAlpha:0},{duration:.5,autoAlpha:1},.4*i)})}}customElements.define("background-video",a)}