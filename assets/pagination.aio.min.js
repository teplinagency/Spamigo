/*
Generated time: October 28, 2024 01:50
This file was created by the app developer. Feel free to contact the original developer with any questions. It was minified (compressed) by AVADA. AVADA do NOT own this script.
*/
if(!customElements.get("pagination")){class a extends HTMLElement{constructor(){super();var t=this.dataset.section;this.button=this.querySelector(".load-more"),this.grid=document.querySelector("[data-id="+t+"]"),this.animations_enabled=document.body.classList.contains("animations-true")&&"undefined"!=typeof gsap,this.i=2}connectedCallback(){this.classList.contains("pagination-type--loadmore")&&this.loadMore(),this.classList.contains("pagination-type--infinite")&&this.infinite()}addUrlParam(t,e){var i=e+"="+this.i,n="?"+i;return t&&(n=t.replace(new RegExp("([?&])"+e+"[^&]*"),"$1"+i))===t&&(n+="&"+i),n}loadMore(){let t=this;this.button.addEventListener("click",function(){return t.loadProducts(),this.blur(),!1})}infinite(){let e=this;e.observer=new IntersectionObserver(function(t){1===t[0].intersectionRatio&&e.loadProducts()},{threshold:[0,1]}),e.observer.observe(e)}loadProducts(){let e=this,i=document.location.pathname+e.addUrlParam(document.location.search,"page");e.getAttribute("loading")||(e.i++,e.setAttribute("loading",!0),fetch(i).then(t=>t.text()).then(t=>{e.renderProducts(t,i),dispatchCustomEvent("pagination:page-changed",{url:i})}))}renderProducts(t,e){let i=this,n=(new DOMParser).parseFromString(t,"text/html").getElementById("product-grid");if(n){for(var a=n.querySelectorAll(".column"),o=0;o<a.length;o++)this.grid.appendChild(a[o]);this.animations_enabled?(gsap.set(a,{opacity:0,y:30}),gsap.to(a,{duration:.5,y:0,opacity:1,stagger:.05,onComplete:function(){i.removeAttribute("loading"),void 0!==StampedFn.loadBadges&&StampedFn.loadBadges()}})):(i.removeAttribute("loading"),void 0!==StampedFn.loadBadges&&StampedFn.loadBadges())}else i.observer&&i.observer.unobserve(i),i.removeAttribute("loading"),i.button&&i.button.classList.add("visually-hidden")}}customElements.define("pagination-theme",a)}