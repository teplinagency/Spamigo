/*
Generated time: October 28, 2024 01:50
This file was created by the app developer. Feel free to contact the original developer with any questions. It was minified (compressed) by AVADA. AVADA do NOT own this script.
*/
customElements.get("pickup-availability")||customElements.define("pickup-availability",class extends HTMLElement{constructor(){super(),this.hasAttribute("available")&&(this.onClickRefreshList=this.onClickRefreshList.bind(this),this.fetchAvailability(this.dataset.variantId))}fetchAvailability(e){let t=this.dataset.rootUrl;t.endsWith("/")||(t+="/");e=t+`variants/${e}/?section_id=pickup-availability`;fetch(e).then(e=>e.text()).then(e=>{e=(new DOMParser).parseFromString(e,"text/html").querySelector(".shopify-section");this.renderPreview(e)}).catch(e=>{var t=this.querySelector("button");t&&t.removeEventListener("click",this.onClickRefreshList),this.renderError()})}onClickRefreshList(e){this.fetchAvailability(this.dataset.variantId)}renderError(){this.innerHTML="",this.querySelector("button")&&this.querySelector("button").addEventListener("click",this.onClickRefreshList)}renderPreview(e){var t=document.querySelector(".pickup-availability-drawer");t&&t.remove(),e.querySelector(".pickup-availability-information")?(this.innerHTML=e.querySelector(".pickup-availability-information").innerHTML,this.setAttribute("available",""),document.getElementById("Pickup-Availability").innerHTML=e.querySelector(".side-availability").innerHTML,(t=this.querySelector("button"))&&t.addEventListener("click",e=>{document.getElementById("Pickup-Availability").classList.toggle("active"),document.getElementsByTagName("body")[0].classList.toggle("open-cc"),e.preventDefault()})):(this.innerHTML="",this.removeAttribute("available"))}});