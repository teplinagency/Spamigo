/*
Generated time: October 28, 2024 01:50
This file was created by the app developer. Feel free to contact the original developer with any questions. It was minified (compressed) by AVADA. AVADA do NOT own this script.
*/
if(!customElements.get("variant-selects")){class a extends HTMLElement{constructor(){super(),this.sticky=this.dataset.sticky,this.updateUrl="true"===this.dataset.updateUrl,this.isDisabledFeature=this.dataset.isDisabled,this.addEventListener("change",this.onVariantChange),this.other=Array.from(document.querySelectorAll("variant-selects")).filter(e=>e!=this),this.productWrapper=this.closest(".thb-product-detail"),this.productSlider=this.productWrapper.querySelector(".product-images"),this.hideVariants="true"===this.dataset.hideVariants}connectedCallback(){this.updateOptions(),this.updateMasterId(),this.setDisabled(),this.setImageSet()}onVariantChange(){this.updateOptions(),this.updateMasterId(),this.toggleAddButton(!0,"",!1),this.updatePickupAvailability(),this.removeErrorMessage(),this.updateVariantText(),this.setDisabled(),this.currentVariant?(this.updateMedia(),this.updateUrl&&this.updateURL(),this.updateVariantInput(),this.renderProductInfo()):(this.toggleAddButton(!0,"",!0),this.setUnavailable()),this.updateOther(),dispatchCustomEvent("product:variant-change",{variant:this.currentVariant,sectionId:this.dataset.section})}updateOptions(){this.fieldsets=Array.from(this.querySelectorAll("fieldset")),this.options=[],this.fieldsets.forEach((e,t)=>{e.querySelector("select")?this.options.push(e.querySelector("select").value):e.querySelectorAll("input").length&&this.options.push(e.querySelector("input:checked").value)})}updateVariantText(){Array.from(this.querySelectorAll("fieldset")).forEach((e,t)=>{e=e.querySelector(".form__label__value");e&&(e.innerHTML=this.options[t])})}updateMasterId(){this.currentVariant=this.getVariantData().find(e=>!e.options.map((e,t)=>this.options[t]===e).includes(!1))}updateOther(){if("false"!==this.dataset.updateUrl&&this.other.length){let e=this.other[0].querySelectorAll("fieldset"),i=Array.from(e);this.options.forEach((e,t)=>{i[t].querySelector("select")?i[t].querySelector("select").value=e:i[t].querySelectorAll("input").length&&(i[t].querySelector(`input[value='${e}']`).checked=!0)}),this.other[0].updateOptions(),this.other[0].updateMasterId(),this.other[0].updateVariantText(),this.other[0].setDisabled()}}updateMedia(){var e;this.currentVariant&&this.currentVariant.featured_media&&(e=this.productWrapper.querySelector(".product-thumbnail-container"),this.setActiveMedia(`#Slide-${this.dataset.section}-`+this.currentVariant.featured_media.id,`#Thumb-${this.dataset.section}-`+this.currentVariant.featured_media.id,this.productSlider,e))}setActiveMedia(e,t,i,s){var a=Flickity.data(i),r=i.querySelector(e);a&&this.hideVariants?(i.querySelector(".product-images__slide.is-initial-selected")&&i.querySelector(".product-images__slide.is-initial-selected").classList.remove("is-initial-selected"),[].forEach.call(i.querySelectorAll(".product-images__slide-item--variant"),function(e){e.classList.remove("is-active")}),r.classList.add("is-active"),r.classList.add("is-initial-selected"),this.setImageSetMedia(),s&&(r=s.querySelector(t),s.querySelector(".product-thumbnail.is-initial-selected")&&s.querySelector(".product-thumbnail.is-initial-selected").classList.remove("is-initial-selected"),[].forEach.call(s.querySelectorAll(".product-images__slide-item--variant"),function(e){e.classList.remove("is-active")}),r.classList.add("is-active"),r.classList.add("is-initial-selected")),i.reInit(this.imageSetIndex),i.selectCell(e)):a&&i.selectCell(e)}updateURL(){this.currentVariant&&"false"!==this.dataset.updateUrl&&window.history.replaceState({},"",this.dataset.url+"?variant="+this.currentVariant.id)}updateShareUrl(){var e=document.getElementById("Share-"+this.dataset.section);e&&e.updateUrl(""+window.shopUrl+this.dataset.url+"?variant="+this.currentVariant.id)}updateVariantInput(){document.querySelectorAll(`#product-form-${this.dataset.section}, #product-form-installment`).forEach(e=>{e=e.querySelector('input[name="id"]');e.value=this.currentVariant.id,e.dispatchEvent(new Event("change",{bubbles:!0}))})}updatePickupAvailability(){var e=document.querySelector(".pickup-availability-wrapper");e&&(this.currentVariant&&this.currentVariant.available?e.fetchAvailability(this.currentVariant.id):(e.removeAttribute("available"),e.innerHTML=""))}removeErrorMessage(){var e=this.closest("section");e&&(e=e.querySelector("product-form"))&&e.handleErrorMessage()}getSectionsToRender(){return["price-"+this.dataset.section,`price-${this.dataset.section}--sticky`,`product-image-${this.dataset.section}--sticky`,"inventory-"+this.dataset.section,"sku-"+this.dataset.section,"quantity-"+this.dataset.section]}renderProductInfo(){let t=this.getSectionsToRender();fetch(`${this.dataset.url}?variant=${this.currentVariant.id}&section_id=`+this.dataset.section).then(e=>e.text()).then(e=>{let s=(new DOMParser).parseFromString(e,"text/html");t.forEach(e=>{var t=document.getElementById(e),i=s.getElementById(e),t=(i&&t&&(t.innerHTML=i.innerHTML),document.getElementById(e)),i=document.getElementById(e+"--sticky");t&&t.classList.remove("visibility-hidden"),i&&i.classList.remove("visibility-hidden")}),this.toggleAddButton(!this.currentVariant.available,window.theme.variantStrings.soldOut)})}toggleAddButton(s=!0,a=!1,e){var t=document.getElementById("product-form-"+this.dataset.section);if(t){let i=t.closest(".product-form").getAttribute("template");t=document.querySelectorAll(".single-add-to-cart-button");t&&t.forEach(e=>{var t=e.querySelector(".single-add-to-cart-button--text");t&&(s?(e.setAttribute("disabled","disabled"),a&&(t.textContent=a)):(e.removeAttribute("disabled"),e.classList.remove("loading"),i?.includes("pre-order")?t.textContent=window.theme.variantStrings.preOrder:t.textContent=window.theme.variantStrings.addToCart))})}}setUnavailable(){var e=document.querySelectorAll(".single-add-to-cart-button"),t=document.getElementById("price-"+this.dataset.section),i=document.getElementById(`price-${this.dataset.section}--sticky`);e.forEach(e=>{var t=e.querySelector(".single-add-to-cart-button--text");e&&(t.textContent=window.theme.variantStrings.unavailable,e.classList.add("sold-out"))}),t&&t.classList.add("visibility-hidden"),i&&i.classList.add("visibility-hidden")}setDisabled(){if("true"==this.isDisabledFeature){var i=this.getVariantData();if(i){let e=!1;if(this.currentVariant)e=this.currentVariant.options.map((e,t)=>({value:e,index:"option"+(t+1)}));else{var s=i.find(e=>e.option1===this.options[0]);if(!s)return;e=[{value:this.options[0],index:"option1"},{value:s.option2,index:"option2"}]}let t=this.createAvailableOptionsTree(i,e);this.fieldsets.forEach((i,e)=>{let s=Object.values(t)[e];s&&(i.querySelector("select")?s.forEach((e,t)=>{e.isUnavailable?i.querySelector("option[value="+JSON.stringify(e.value)+"]").disabled=!0:i.querySelector("option[value="+JSON.stringify(e.value)+"]").disabled=!1}):i.querySelectorAll("input").length&&i.querySelectorAll("input").forEach((e,t)=>{e.classList.toggle("is-disabled",s[t].isUnavailable)}))})}return!0}}getImageSetName(e){return e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/-$/,"").replace(/^-/,"")}setImageSet(){var e;this.productSlider&&(e=this.productSlider.querySelector("[data-set-name]"))&&(this.imageSetName=e.dataset.setName,this.imageSetIndex=this.querySelector('.product-form__input[data-handle="'+this.imageSetName+'"]').dataset.index,this.dataset.imageSetIndex=this.imageSetIndex,this.setImageSetMedia())}setImageSetMedia(){if(this.imageSetIndex){var e=this.getImageSetName(this.currentVariant[this.imageSetIndex]);let t=this.imageSetName+"_"+e;var e=this.productWrapper.querySelectorAll(`.product-images__slide[data-set-name="${this.imageSetName}"]`),i=this.productWrapper.querySelectorAll(`.product-thumbnail[data-set-name="${this.imageSetName}"]`);this.hideVariants&&(this.productWrapper.querySelectorAll(".product-images__slide").forEach(e=>{e.dataset.group&&e.dataset.group!==t&&e.classList.remove("is-active")}),e.forEach(e=>{e.classList.toggle("is-active",e.dataset.group===t)}),this.productWrapper.querySelectorAll(".product-thumbnail").forEach(e=>{e.dataset.group&&e.dataset.group!==t&&e.classList.remove("is-active")}),i.forEach(e=>{e.classList.toggle("is-active",e.dataset.group===t)}))}}createAvailableOptionsTree(e,n){return e.reduce((a,r)=>(Object.keys(a).forEach(t=>{if(null!==r[t]){let e=a[t].find(e=>e.value===r[t]);void 0===e&&(e={value:r[t],isUnavailable:!0},a[t].push(e));var i=n.find(({index:e})=>"option1"===e),s=n.find(({index:e})=>"option2"===e);switch(t){case"option1":e.isUnavailable=(!e.isUnavailable||!r.available)&&e.isUnavailable;break;case"option2":i&&r.option1===i.value&&(e.isUnavailable=(!e.isUnavailable||!r.available)&&e.isUnavailable);break;case"option3":i&&r.option1===i.value&&s&&r.option2===s.value&&(e.isUnavailable=(!e.isUnavailable||!r.available)&&e.isUnavailable)}}}),a),{option1:[],option2:[],option3:[]})}getVariantData(){return this.variantData=this.variantData||JSON.parse(this.querySelector('[type="application/json"]').textContent),this.variantData}}customElements.define("variant-selects",a);class b extends a{constructor(){super()}updateOptions(){var e=Array.from(this.querySelectorAll("fieldset"));this.options=e.map(e=>Array.from(e.querySelectorAll("input")).find(e=>e.checked).value)}}customElements.define("variant-radios",b)}if(!customElements.get("product-slider")){class Pa extends HTMLElement{constructor(){super(),this.addEventListener("change",this.setupProductGallery)}connectedCallback(){this.product_container=this.closest(".thb-product-detail"),this.thumbnail_container=this.product_container.querySelector(".product-thumbnail-container"),this.video_containers=this.querySelectorAll(".product-single__media-external-video--play"),this.setOptions(),this.init()}setOptions(){this.hide_variants="true"==this.dataset.hideVariants,this.thumbnails=this.thumbnail_container.querySelectorAll(".product-thumbnail"),this.prev_button=this.querySelector(".flickity-prev"),this.next_button=this.querySelector(".flickity-next"),this.options={wrapAround:!0,pageDots:!0,contain:!0,adaptiveHeight:!0,initialIndex:".is-initial-selected",prevNextButtons:!1,fade:!1,cellSelector:".product-images__slide.is-active"}}init(){this.flkty=new Flickity(this,this.options),this.selectedIndex=this.flkty.selectedIndex,this.setupEvents(),this.setupProductGallery()}reInit(e){this.flkty.destroy(),this.setOptions(),this.flkty=new Flickity(this,this.options),this.setupEvents(),this.selectedIndex=this.flkty.selectedIndex}setupEvents(){let r=this;var e;this.prev_button&&(e=this.prev_button.cloneNode(!0),this.prev_button.parentNode.append(e),this.prev_button.remove(),e.addEventListener("click",e=>{this.flkty.previous()}),e.addEventListener("keyup",e=>{this.flkty.previous(),e.preventDefault()})),this.next_button&&(e=this.next_button.cloneNode(!0),this.next_button.parentNode.append(e),this.next_button.remove(),e.addEventListener("click",e=>{this.flkty.next()}),e.addEventListener("keyup",e=>{this.flkty.next(),e.preventDefault()})),this.video_containers.forEach(e=>{e.querySelector("button").addEventListener("click",function(){e.setAttribute("hidden","")})}),this.flkty.on("settle",function(e){r.selectedIndex=e}),this.flkty.on("change",e=>{let t=this.flkty.cells[r.selectedIndex].element,i=t.querySelector(".product-single__media"),s=Array.from(this.thumbnails).filter(e=>e.classList.contains("is-active")),a=s[e]||s[0];this.thumbnails.forEach((e,t)=>{e.classList.remove("is-initial-selected")}),a.classList.add("is-initial-selected"),requestAnimationFrame(()=>{var e,t;null!==a.offsetParent&&(e=a.offsetParent.clientHeight/2,t=a.offsetParent.clientWidth/2,a.parentElement.scrollTo({left:a.offsetLeft-t+a.clientWidth/2,top:a.offsetTop-e+a.clientHeight/2,behavior:"smooth"}))}),i.classList.contains("product-single__media-external-video")?("youtube"===i.dataset.provider?i.querySelector("iframe").contentWindow.postMessage(JSON.stringify({event:"command",func:"pauseVideo",args:""}),"*"):"vimeo"===i.dataset.provider&&i.querySelector("iframe").contentWindow.postMessage(JSON.stringify({method:"pause"}),"*"),i.querySelector(".product-single__media-external-video--play").removeAttribute("hidden")):i.classList.contains("product-single__media-native-video")&&i.querySelector("video").pause()}),setTimeout(()=>{Array.from(this.thumbnails).filter(e=>0<e.clientWidth).forEach((e,t)=>{e.addEventListener("click",()=>{this.thumbnailClick(e,t)})})})}thumbnailClick(e,t){[].forEach.call(this.thumbnails,function(e){e.classList.remove("is-initial-selected")}),e.classList.add("is-initial-selected"),this.flkty.select(t)}setDraggable(e){this.flkty.options.draggable=e,this.flkty.updateDraggable()}selectCell(e){this.flkty.selectCell(e)}setupProductGallery(){this.querySelectorAll(".product-single__media-zoom").length&&this.setEventListeners()}buildItems(){return this.activeImages=Array.from(this.querySelectorAll(".product-images__slide.is-active .product-single__media-image")),this.activeImages.map(e=>{var t=[].indexOf.call(e.parentNode.parentNode.children,e.parentNode),e=e.querySelector(".product-single__media-zoom");return e.dataset.index=t,{src:e.getAttribute("href"),msrc:e.dataset.msrc,w:e.dataset.w,h:e.dataset.h}})}setEventListeners(){this.links=this.querySelectorAll(".product-single__media-zoom"),this.pswpElement=document.querySelectorAll(".pswp")[0],this.pswpOptions={maxSpreadZoom:2,loop:!1,allowPanToNext:!1,closeOnScroll:!1,showHideOpacity:!1,arrowKeys:!0,history:!1,captionEl:!1,fullscreenEl:!1,zoomEl:!1,shareEl:!1,counterEl:!0,arrowEl:!0,preloaderEl:!0,getThumbBoundsFn:()=>{var e=this.querySelector(".product-images__slide.is-selected"),t=window.pageYOffset||document.documentElement.scrollTop,e=e.getBoundingClientRect();return{x:e.left,y:e.top+t,w:e.width}}},this.links.forEach(t=>{t.addEventListener("click",e=>this.zoomClick(e,t))})}zoomClick(e,t){if(this.items=this.buildItems(),this.pswpOptions.index=parseInt(t.dataset.index,10),"undefined"!=typeof PhotoSwipe){let e=new PhotoSwipe(this.pswpElement,PhotoSwipeUI_Default,this.items,this.pswpOptions);document.body.classList.add("open-lightbox"),e.listen("firstUpdate",function(){e.listen("destroy",function(){document.body.classList.remove("open-lightbox")}),e.listen("parseVerticalMargin",function(e){e.vGap={top:50,bottom:50}})}),e.init()}e.preventDefault()}}customElements.define("product-slider",Pa)}if(customElements.get("product-form")||customElements.define("product-form",class extends HTMLElement{constructor(){super()}connectedCallback(){this.sticky=this.dataset.sticky,this.form=document.getElementById("product-form-"+this.dataset.section),this.form.querySelector("[name=id]").disabled=!1,this.sticky||this.form.addEventListener("submit",this.onSubmitHandler.bind(this)),this.cartNotification=document.querySelector("cart-notification"),this.body=document.body,this.hideErrors="true"===this.dataset.hideErrors}onSubmitHandler(i){if(i.preventDefault(),this.form.reportValidity()){let e=document.querySelectorAll(".single-add-to-cart-button");e.forEach(e=>{e.classList.contains("loading")||(e.setAttribute("aria-disabled",!0),e.classList.add("loading"))}),this.handleErrorMessage();i={method:"POST",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/javascript"}};let t=new FormData(this.form);t.append("sections",this.getSectionsToRender().map(e=>e.section)),t.append("sections_url",window.location.pathname),i.body=t,fetch(""+theme.routes.cart_add_url,i).then(e=>e.json()).then(e=>{e.status?(dispatchCustomEvent("product:variant-error",{source:"product-form",productVariantId:t.get("id"),errors:e.description,message:e.message}),422===e.status&&document.documentElement.dispatchEvent(new CustomEvent("cart:refresh",{bubbles:!0})),this.handleErrorMessage(e.description)):(this.renderContents(e),dispatchCustomEvent("cart:item-added",{product:e.hasOwnProperty("items")?e.items[0]:e}))}).catch(e=>{console.error(e)}).finally(()=>{e.forEach(e=>{e.classList.remove("loading"),e.removeAttribute("aria-disabled")})})}}getSectionsToRender(){return[{id:"Cart",section:"main-cart",selector:".thb-cart-form"},{id:"Cart-Drawer",section:"cart-drawer",selector:".cart-drawer"},{id:"cart-drawer-toggle",section:"cart-bubble",selector:".thb-item-count"}]}renderContents(t){this.getSectionsToRender().forEach(e=>{document.getElementById(e.id)&&((document.getElementById(e.id).querySelector(e.selector)||document.getElementById(e.id)).innerHTML=this.getSectionInnerHTML(t.sections[e.section],e.selector),"undefined"!=typeof Cart)&&(new Cart).renderContents(t)});var e=document.getElementById("Product-Drawer"),i=document.getElementById("Search-Drawer");i.classList.contains("active")&&i.classList.remove("active"),e&&e.contains(this)&&(e.classList.remove("active"),this.body.classList.remove("open-cc--product")),document.getElementById("Cart-Drawer")&&document.getElementById("Cart-Drawer").open()}getSectionInnerHTML(e,t=".shopify-section"){return(new DOMParser).parseFromString(e,"text/html").querySelector(t).innerHTML}handleErrorMessage(e=!1){this.hideErrors||(this.errorMessageWrapper=this.errorMessageWrapper||this.querySelector(".product-form__error-message-wrapper"),this.errorMessageWrapper&&(this.errorMessage=this.errorMessage||this.errorMessageWrapper.querySelector(".product-form__error-message"),this.errorMessageWrapper.toggleAttribute("hidden",!e),e)&&(this.errorMessage.textContent=e))}}),!customElements.get("product-add-to-cart-sticky")){class W0 extends HTMLElement{constructor(){super(),this.animations_enabled=document.body.classList.contains("animations-true")&&"undefined"!=typeof gsap}connectedCallback(){this.setupObservers(),this.setupToggle()}setupToggle(){let t=this.querySelector(".product-add-to-cart-sticky--inner"),i=this.querySelector(".product-add-to-cart-sticky--content");if(this.animations_enabled){let e=gsap.timeline({reversed:!0,paused:!0,onStart:()=>{t.classList.add("sticky-open")},onReverseComplete:()=>{t.classList.remove("sticky-open")}});e.set(i,{display:"block",height:"auto"},"start").from(i,{height:0,duration:.25},"start+=0.001"),t.addEventListener("click",function(){return e.reversed()?e.play():e.reverse(),!1})}else t.addEventListener("click",function(){return i.classList.toggle("active"),!1})}setupObservers(){let i=this,e=new IntersectionObserver(function(e){e.forEach(e=>{var t;e.target===a&&(0<e.intersectionRatio?i.classList.remove("sticky--visible"):0==e.intersectionRatio&&i.formPassed&&i.classList.add("sticky--visible")),e.target===s&&(t=s.getBoundingClientRect(),0===e.intersectionRatio&&window.scrollY>t.top+t.height?(i.formPassed=!0,i.classList.add("sticky--visible")):1===e.intersectionRatio&&(i.formPassed=!1,i.classList.remove("sticky--visible")))})},{threshold:[0,1]}),s=document.getElementById("product-form-"+this.dataset.section),a=document.getElementById("footer");i.formPassed=!1,e.observe(s),e.observe(a)}}customElements.define("product-add-to-cart-sticky",W0)}if(!customElements.get("side-panel-links")){class fb extends HTMLElement{constructor(){super(),this.links=this.querySelectorAll("button"),this.drawer=document.getElementById("Product-Information-Drawer"),this.buttons=this.drawer.querySelector(".side-panel-content--tabs"),this.panels=this.drawer.querySelector(".side-panel-content--inner").querySelectorAll(".side-panel-content--tab-panel"),this.body=document.body}connectedCallback(){this.setupObservers()}disconnectedCallback(){}setupObservers(){this.links.forEach((e,t)=>{e.addEventListener("click",e=>{this.body.classList.add("open-cc"),this.buttons.toggleActiveClass(t),this.drawer.classList.add("active")})})}}customElements.define("side-panel-links",fb)}"undefined"!=typeof addIdToRecentlyViewed&&addIdToRecentlyViewed();